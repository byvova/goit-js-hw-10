{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    const options = {\n        enableTime: true,\n        time_24hr: true,\n        defaultDate: new Date(),\n        minuteIncrement: 1,\n        onClose(selectedDates) {\n            userSelectedDate = selectedDates[0];\n\n            const currentDate = new Date();\n            if (userSelectedDate < currentDate) {\n                iziToast.error({\n                    title: \"Error\",\n                    message: \"Please choose a date in the future\"\n                });\n                \n                document.querySelector(\"button[data-start]\").disabled = true;\n            } else {\n                document.querySelector(\"button[data-start]\").disabled = false;\n            }\n        },\n    };\n\n    flatpickr(\"#datetime-picker\", options);\n    document.querySelector(\"button[data-start]\").addEventListener(\"click\", startTimer);\n});\n\nfunction startTimer() {\n    this.disabled = true;\n\n    const timerInterval = setInterval(updateTimer, 1000);\n\n    function updateTimer() {\n        const currentTime = new Date();\n        const timeDifference = userSelectedDate - currentTime;\n\n        if (timeDifference <= 0) {\n            clearInterval(timerInterval);\n            displayTimerValues(0, 0, 0, 0);\n            iziToast.success({\n                title: \"Success\",\n                message: \"Countdown Timer Finished!\",\n            });\n        } else {\n            const { days, hours, minutes, seconds } = convertMs(timeDifference);\n            displayTimerValues(days, hours, minutes, seconds);\n        }\n    }\n\n    function displayTimerValues(days, hours, minutes, seconds) {\n        document.querySelector(\"[data-days]\").textContent = addLeadingZero(days);\n        document.querySelector(\"[data-hours]\").textContent = addLeadingZero(hours);\n        document.querySelector(\"[data-minutes]\").textContent = addLeadingZero(minutes);\n        document.querySelector(\"[data-seconds]\").textContent = addLeadingZero(seconds);\n    }\n\n    function addLeadingZero(value) {\n        return value < 10 ? `0${value}` : value;\n    }\n}\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day);\n\n    const hours = Math.floor((ms % day) / hour);\n\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}\n"],"names":["userSelectedDate","options","selectedDates","currentDate","iziToast","flatpickr","startTimer","timerInterval","updateTimer","currentTime","timeDifference","displayTimerValues","days","hours","minutes","seconds","convertMs","addLeadingZero","value","ms"],"mappings":"sGAUA,IAAIA,EAEJ,SAAS,iBAAiB,mBAAoB,UAAY,CACtD,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBF,EAAmBE,EAAc,GAEjC,MAAMC,EAAc,IAAI,KACpBH,EAAmBG,GACnBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oCAC7B,CAAiB,EAED,SAAS,cAAc,oBAAoB,EAAE,SAAW,IAExD,SAAS,cAAc,oBAAoB,EAAE,SAAW,EAE/D,CACT,EAEIC,EAAU,mBAAoBJ,CAAO,EACrC,SAAS,cAAc,oBAAoB,EAAE,iBAAiB,QAASK,CAAU,CACrF,CAAC,EAED,SAASA,GAAa,CAClB,KAAK,SAAW,GAEhB,MAAMC,EAAgB,YAAYC,EAAa,GAAI,EAEnD,SAASA,GAAc,CACnB,MAAMC,EAAc,IAAI,KAClBC,EAAiBV,EAAmBS,EAE1C,GAAIC,GAAkB,EAClB,cAAcH,CAAa,EAC3BI,EAAmB,EAAG,EAAG,EAAG,CAAC,EAC7BP,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,2BACzB,CAAa,MACE,CACH,KAAM,CAAE,KAAAQ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUN,CAAc,EAClEC,EAAmBC,EAAMC,EAAOC,EAASC,CAAO,CACnD,CACJ,CAED,SAASJ,EAAmBC,EAAMC,EAAOC,EAASC,EAAS,CACvD,SAAS,cAAc,aAAa,EAAE,YAAcE,EAAeL,CAAI,EACvE,SAAS,cAAc,cAAc,EAAE,YAAcK,EAAeJ,CAAK,EACzE,SAAS,cAAc,gBAAgB,EAAE,YAAcI,EAAeH,CAAO,EAC7E,SAAS,cAAc,gBAAgB,EAAE,YAAcG,EAAeF,CAAO,CAChF,CAED,SAASE,EAAeC,EAAO,CAC3B,OAAOA,EAAQ,GAAK,IAAIA,IAAUA,CACrC,CACL,CAEA,SAASF,EAAUG,EAAI,CAMnB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAE1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EAEpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EAEjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}